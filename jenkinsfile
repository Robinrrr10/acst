def mavenHome
pipeline {
    agent any
        stages {
            stage('Start'){
                steps {
                    echo "Starting the pipeline"
                }
            }
            stage('Repository') {
                steps {
                    echo "start for git repository download"
                    git branch: 'signtest',
                        credentialsId: 'f22b3b0c-7f1d-40a3-a2fe-a42ecc502e4d',
                        url: 'https://github.com/Robinrrr10/acst.git'
                    echo "Git downloaded successfully"
                }
            }
            stage('testing') {
                steps {
                    echo "${env.MAVEN_HOME}"
                    println"${env.MAVEN_HOME}"
                    println env.MAVEN_HOME
                    println MAVEN_HOME
                    println"${MAVEN_HOME}"
                    script{
                         mavenHome="${env.MAVEN_HOME}"
                    }
                    echo "$mavenHome"
                    echo "Start testings"
                    sh "'$mavenHome/bin/mvn' clean install"
                    echo "Done testing"
                }
            }
            stage('Deployment') {
                steps {
                    echo "Start deployment"
                }
            }
            stage('End'){
                steps {
                    echo "Ending"
                }
            }

        }

}